(this.webpackJsonpfronttst=this.webpackJsonpfronttst||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},79:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(43),s=c.n(a),i=(c(50),c(51),c(2)),r=c(11),o=c(3),j=c(4),l=c(17),d=c.n(l),b=c(0),u=d.a.create({baseURL:"https://tst.matus.keenetic.name",headers:{"Access-Control-Allow-Origin":"*"}}),O=Object(i.g)((function(){var e=Object(n.useState)({checked:!1}),t=Object(j.a)(e,2),c=t[0],a=t[1],s=/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,4})$/;return Object(b.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[c&&c.login&&Object(b.jsx)(i.a,{to:"/login"}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h5",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"}),Object(b.jsx)("input",{name:"email",style:{width:"80%"},type:"email",onChange:function(e){a(Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},e.target.name,e.target.value)))}}),c?c.busy&&Object(b.jsx)("h6",{style:{color:"red"},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}):a(Object(o.a)(Object(o.a)({},c),{},{busy:!1})),c?c.emailIsBad&&Object(b.jsx)("h6",{style:{color:"red"},children:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email"}):a(Object(o.a)(Object(o.a)({},c),{},{busy:!1}))]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"container mt-2",children:[Object(b.jsx)("h5",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{name:"password",style:{width:"80%"},type:c.checked?"text":"password",onChange:function(e){a(Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},e.target.name,e.target.value)))}}),Object(b.jsx)("input",{style:{margin:10},type:"checkbox",readOnly:!0,onClick:function(){a(Object(o.a)(Object(o.a)({},c),{},{checked:!c.checked}))},checked:c.checked})]}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h5",{children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{name:"confirmPass",style:{width:"80%"},type:c.checked?"text":"password",onChange:function(e){a(Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},e.target.name,e.target.value)))}})]}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h5",{children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440"}),Object(b.jsx)("input",{name:"ava",style:{width:"80%"},type:"text",onChange:function(e){a(Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},e.target.name,e.target.value)))}})]}),c?c.notEquals&&Object(b.jsx)("h6",{style:{color:"red"},children:"\u041f\u0430\u0440\u043e\u043b\u0438  \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}):a(Object(o.a)(Object(o.a)({},c),{},{busy:!1})),Object(b.jsx)("div",{style:{margin:10},children:Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){c&&s.test(c.email)?c.password&&c.password===c.confirmPass?u.get("users/".concat(c.email)).then((function(e){e.data[0]?a(Object(o.a)(Object(o.a)({},c),{},{busy:!0})):(console.log(" \u0432\u0440\u043e\u0434\u0435 \u043d\u043e\u0440\u043c",c),u.post("users/".concat(c.email),{name:c.email,password:c.password,avatar:c.ava}).then((function(e){console.log(e),a(Object(o.a)(Object(o.a)({},c),{},{login:!0}))})))})):(console.log("\u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),a(Object(o.a)(Object(o.a)({},c),{},{notEquals:!0}))):(console.log("email \u0445\u0443\u0435\u0432\u044b\u0439"),a(Object(o.a)(Object(o.a)({},c),{},{emailIsBad:!0})))},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})),h=Object(i.g)((function(){var e=Object(n.useState)({checked:!1}),t=Object(j.a)(e,2),c=t[0],a=t[1],s=function(e){a(Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{children:[c&&c.redirect&&Object(b.jsx)(i.a,{to:"/user_page/".concat(c.userId," ")}),Object(b.jsx)("div",{style:{fontSize:"200%",display:"flex",justifyContent:"center",margin:10},children:"\u0412\u0425\u041e\u0414"}),Object(b.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h5",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"}),Object(b.jsx)("input",{name:"email",type:"email",style:{width:"80%"},onChange:s})]}),Object(b.jsxs)("div",{className:"container mt-2",children:[Object(b.jsx)("h5",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{name:"password",style:{width:"80%"},type:c.checked?"text":"password",onChange:s}),Object(b.jsx)("input",{style:{margin:10},type:"checkbox",readOnly:!0,onClick:function(){a(Object(o.a)(Object(o.a)({},c),{},{checked:!c.checked}))},checked:c.checked})]}),Object(b.jsxs)("div",{style:{margin:10},children:[c&&c.error&&Object(b.jsx)("div",{style:{color:"red",marginBottom:10},children:c.message}),Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){u.get("users/".concat(c.email,"/").concat(c.password)).then((function(e){void 0===e.data[0]&&a(Object(o.a)(Object(o.a)({},c),{},{error:!0})),e.data[0]&&"ok"===e.data[0].password?(document.cookie='{"authorized":true,"userId":'.concat(e.data[0].id,"}; max-age=300; secure"),a(Object(o.a)(Object(o.a)({},c),{},{redirect:!0,userId:e.data[0].id}))):a(Object(o.a)(Object(o.a)({},c),{},{error:!0,message:"email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439"}))})).catch(a(Object(o.a)(Object(o.a)({},c),{},{error:!0,message:"\u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043f\u0440\u0438\u0441\u043b\u0430\u043b \u043e\u0442\u0432\u0435\u0442\u0430"})))},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})})),m=Object(i.g)((function(e){var t=e.history,c=e.location;return console.log(c,"history",t),Object(b.jsxs)("header",{children:[Object(b.jsx)("span",{children:Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)("h2",{style:{marginTop:"0.5rem"},children:[Object(b.jsx)("span",{role:"img","aria-label":"iconNotTort",children:"\u26d4"})," IT \u043d\u0435 \u0442\u043e\u0440\u0442"]}),Object(b.jsx)("div",{className:"navbar-expand",id:"navbarNav",children:Object(b.jsxs)("ul",{className:"navbar-nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("span",{style:{cursor:"pointer"},className:"/"===c.pathname?"nav-link active":"nav-link","aria-current":"page",onClick:function(){t.push("/")},children:"\u0414\u043e\u043c\u043e\u0439"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("span",{style:{cursor:"pointer"},className:"/register"===c.pathname?"nav-link active":"nav-link","aria-current":"page",onClick:function(){t.push("/register")},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("span",{style:{cursor:"pointer"},className:"/login"===c.pathname?"nav-link active":"nav-link","aria-current":"page",onClick:function(){t.push("/login")},children:"\u0412\u043e\u0439\u0442\u0438"})})]})})]})})}),Object(b.jsx)("hr",{})]})})),x=Object(i.g)((function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(j.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(!1),O=Object(j.a)(d,2),h=O[0],m=O[1],x=Object(n.useState)(!1),p=Object(j.a)(x,2),g=p[0],f=p[1],v=Object(i.f)().id,y=function(){u.get("/articles/".concat(v)).then((function(e){l(e.data)}))};return Object(n.useEffect)(y,[v]),Object(n.useEffect)((function(){0!==o.length||g||f(!0)}),[o.length,g]),Object(b.jsxs)("div",{className:"container",children:[0===o.length&&Object(b.jsx)("div",{children:"\u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"}),c&&Object(b.jsx)(i.a,{to:"/builder/".concat(v)}),h&&Object(b.jsx)(i.a,{to:"/one_article/".concat(h.id)}),Object(b.jsx)("h2",{children:"\u0412\u0430\u0448\u0438 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(b.jsx)("div",{className:"container align-items-end",children:0!==o.length&&o.map((function(e){return Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col",children:[Object(b.jsxs)("span",{className:"col ",children:["name: ",e.heading]}),Object(b.jsx)("button",{className:"btn btn-danger col",onClick:function(){return function(e){u.delete("/articles/".concat(v),{data:{heading:e.heading}}).then((function(e){y()}))}(e)},children:"  X"}),Object(b.jsx)("button",{onClick:function(){return m({id:e.id})},className:"btn btn-secondary col",children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"})]})},e.id)}))}),Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(!0)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"})]})})),p=(c(79),c(14)),g=(c(89),Object(i.g)((function(e){var t=Object(n.useState)(e.set||!1),c=Object(j.a)(t,2),a=c[0],s=c[1];return a&&setTimeout((function(){return s(!1)}),3e3),Object(b.jsx)("span",{className:a?"messageWrapper":"messageWrapperNo",children:Object(b.jsxs)("div",{className:e.error?"messageBodyError":"messageBodyMessage",children:[Object(b.jsx)("span",{className:"messageHeader",children:e.header}),Object(b.jsx)("div",{className:"messageContent",children:e.body})]})})}))),f=Object(i.g)((function(e){var t=Object(n.useState)({}),c=Object(j.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)(!1),d=Object(j.a)(l,2),O=d[0],h=d[1],m=Object(n.useState)(void 0),x=Object(j.a)(m,2),f=x[0],v=x[1],y=Object(n.useState)(void 0),N=Object(j.a)(y,2),k=N[0],C=N[1],w=Object(n.useState)(!1),S=Object(j.a)(w,2),I=S[0],_=S[1],z=Object(i.f)().userId;return Object(b.jsxs)("div",{children:[f&&Object(b.jsx)(g,{set:!0,header:"\u041e\u0428\u0418\u0411\u041a\u0410",body:f,error:!0}),k&&Object(b.jsx)(g,{set:!0,header:"\u0421\u041e\u041e\u0411\u0429\u0415\u041d\u0418\u0415",body:k}),I&&Object(b.jsx)(i.a,{to:"/user_page/".concat(z)}),Object(b.jsx)("div",{className:"btn btn-primary",style:{margin:"10px",cursor:"pointer",fontWeight:"bold"},onClick:function(){_(!0)},children:"\u041f\u0435\u0440\u0435\u0442\u0438 \u043a \u043c\u043e\u0438\u043c \u0441\u0442\u0430\u0442\u044c\u044f\u043c"}),Object(b.jsxs)("div",{style:{marginLeft:"10px"},children:["\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e ",Object(b.jsx)("input",{type:"checkbox",checked:O,onChange:function(){return h(!O)}})]}),Object(b.jsx)("input",{autoComplete:"off",style:{marginLeft:"10px",width:"40vmin"},type:"text",id:"heading",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",onChange:function(e){C(void 0),v(void 0),s(Object(o.a)(Object(o.a)({},a),{},Object(r.a)({},e.target.id,e.target.value.toString())))},value:a&&a.heading?a.heading:""}),Object(b.jsxs)("div",{id:"wrapper",children:[Object(b.jsx)("div",{id:"header",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 MD \u0440\u0430\u0437\u043c\u0435\u0442\u043a\u0443 \u0437\u0434\u0435\u0441\u044c"}),Object(b.jsxs)("div",{id:"body",children:[Object(b.jsx)("span",{id:"a",children:Object(b.jsx)("textarea",{name:"text",id:"input",onChange:function(e){C(void 0),v(void 0),s(Object(o.a)(Object(o.a)({},a),{},Object(r.a)({},e.target.name,e.target.value.toString())))},value:a?a.text:""})}),Object(b.jsx)("span",{id:"b",children:Object(b.jsx)(p.a,{id:"output",markdown:a.text,options:{emoji:!0}})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){a.heading&&a.text?(v(void 0),O?u.put("/articles/".concat(z),{heading:a.heading.trim(),text:a.text.trim()}).then((function(e){console.log("\u041e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430:",e.status,e.data.text),C("\u0437\u0430\u043c\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u0434\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e")})):u.post("/articles/".concat(z),{heading:a.heading.trim(),text:a.text.trim()}).then((function(e){console.log("\u041e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430:",e.status,e.data.text),C("\u0441\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")}))):v("....\u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u044f")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0441\u0442\u0430\u0442\u044c\u044e"})})]})]})]})})),v=c(18),y=Object(i.g)((function(e){return Object(b.jsxs)("span",{className:"container ma-3",children:["Like",Object(b.jsx)("span",{children:"  counter"})]})})),N=Object(i.g)((function(e){var t=e.history,c=Object(n.useState)(null),a=Object(j.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)(null),o=Object(j.a)(r,2),l=o[0],d=o[1];return Object(n.useEffect)((function(){u("/users").then((function(e){d(e.data)})).catch((function(e){return console.log(e)})),u.get("/articles").then((function(e){i(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"container mb-3",children:Object(b.jsx)("h5",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0430\u044f"})}),console.log(l),Object(b.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:s&&l?s.map((function(e){return Object(b.jsx)("div",{className:"col-auto",children:Object(b.jsxs)("div",{className:"card mb-2",style:{width:"50vmin"},children:[Object(b.jsx)("img",{src:void 0!==l.filter((function(t){return t.id===e.userid}))[0]?l.filter((function(t){return t.id===e.userid}))[0].avatar:"noAvatar",style:{width:"80px",marginLeft:"0.5rem",marginTop:"0.5rem",borderRadius:"30px"},className:"card-img-top",alt:"..."}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title text-danger ",children:e.heading}),Object(b.jsx)(p.a,{className:"card-text",style:{height:"20vmin",overflow:"auto"},id:"output",markdown:e.body,options:{emoji:!0}}),Object(b.jsx)("button",{onClick:function(){return t.push("/one_article/".concat(e.id))},className:"btn btn-primary",children:"\u0427\u0438\u0442\u0430\u0442\u044c \u0446\u0435\u043b\u0438\u043a\u043e\u043c"}),Object(b.jsx)(y,{articleId:""})]})]})},e.id+e.heading)})):Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(b.jsx)("h5",{children:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439, \u0435\u0441\u043b\u0438 \u0442\u044b \u0442\u0443\u0442, \u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442 \u043c\u043e\u0439 \u043a\u043e\u043c\u043f \u0434\u043e\u043c\u0430 \u0441\u0434\u043e\u0445!!!"})}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(b.jsx)("p",{style:{marginLeft:"20px",color:"red"},children:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043b\u0435\u0436\u0438\u0442 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0442\u0432\u0430\u043b\u0438\u043b\u0441\u044f, \u0437\u0432\u043e\u043d\u0438\u0442\u0435, \u043f\u0438\u0448\u0438\u0442\u0435, \u0446\u0435\u043b\u0443\u044e, \u041f\u0423\u0425 !!!"})})]})})]})})),k=Object(i.g)((function(){var e="";e=""===document.cookie?'{"authorized":false}':JSON.parse(document.cookie);var t=Object(i.f)().id,c=Object(n.useState)({}),a=Object(j.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){u.get("/article/".concat(t)).then((function(e){r(e.data[0])}))}),[t]),Object(b.jsxs)("div",{children:[s&&s.userid&&Object(b.jsx)(v.b,{to:(e.authorized?(console.log("cookie.userId="+e.userId),e.userId,s.userid,1):(console.log("not authorize"),0))?"/user_page/".concat(e.userId):"/",className:"btn btn-primary",children:"to my articles"}),Object(b.jsx)(p.a,{id:"output",markdown:s.body,options:{emoji:!0}}),Object(b.jsx)(N,{})]})})),C=Object(i.g)((function(){return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.target.form);l.AxiosInstance.post("http://localhost:3000/upload",t,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){console.log("Success"+e.data)})).catch((function(e){console.log(e)}))},children:[Object(b.jsx)("h1",{children:"\u0417\u043e\u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432"}),Object(b.jsx)("input",{className:"btn btn-secondary",accept:"image",id:"contained-button-content",name:"customFile",type:"file"}),Object(b.jsx)("button",{className:"btn btn-primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c"})]})}));var w=Object(i.g)((function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{}),Object(b.jsx)(i.b,{path:"/user_page/:id",component:x}),Object(b.jsx)(i.b,{path:"/one_article/:id",component:k}),Object(b.jsx)(i.b,{exact:!0,path:"/",component:N}),Object(b.jsx)(i.b,{path:"/register",component:O}),Object(b.jsx)(i.b,{path:"/login",component:h}),Object(b.jsx)(i.b,{path:"/builder/:userId",component:f}),Object(b.jsx)(i.b,{path:"/upload",component:C})]})})),S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,91)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};s.a.render(Object(b.jsx)(v.a,{basename:"/workspace",children:Object(b.jsx)(w,{})}),document.getElementById("root")),S()}},[[90,1,2]]]);
//# sourceMappingURL=main.d703dc3f.chunk.js.map